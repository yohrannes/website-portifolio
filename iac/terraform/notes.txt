## Terraform cloud configs 
Don't forget to specify the remote execution mode in org > workspace > settings > general  > execution mode

# Initialize project cli

cd iac
./webport-cli/.sh

# Use terraform
cd /app/terraform/prod
terraform init, plan, state

# Use packer
cd /app/packer/prod
packer build, validate ..

##GCP commands to autenticate service account
export GOOGLE_CLOUD_PROJECT=<website-project-id>;
export GOOGLE_APPLICATION_CREDENTIALS="$HOME/.gcp/credentials.json"
export GOOGLE_REGION=us-west1;
export GOOGLE_ZONE=us-west1-a;
export SERVICE_ACCOUNT_EMAIL="<service-account-email>";

gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/compute.instanceAdmin.v1" && \
gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/compute.networkAdmin" && \
gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/cloudbuild.integrationsOwner" && \
gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/vpcaccess.serviceAgent" && \
gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/storage.admin" && \
gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT \
  --member "serviceAccount:$SERVICE_ACCOUNT_EMAIL" \
  --role "roles/compute.securityAdmin"

#List available instance images on OCI

oci compute image list \
  --compartment-id ocid1.tenancy.oc1..aaaaaaaawb7j4hswwgcjncr2ezu5mptw6o5n6h7ixvef5lzqsqkbtmwk44aq \
  --operating-system "Ubuntu" \
  --shape "VM.Standard.E2.1.Micro" \
  --sort-by TIMECREATED \
  --sort-order DESC \
  --region us-ashburn-1 \
  --all > oci_images_ashburn_amd_ubuntu.json